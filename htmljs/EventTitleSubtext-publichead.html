<!-- Add this to the HEAD of Event_display to display "Additional information" section as a subtitle  -->
<script>
  function insertSpeaker(value){
    if ("AdditionalDescription" in value && value["AdditionalDescription"]){
      var id = value["EventFunctionId"];
      jQuery('div[data-programitemcontainer-id="'+id+'"] .Description').prepend('<span class="Presenter">'+value["AdditionalDescription"]+'<br></span>');
    }
  }
  function findAndInsert(){
    var eventid = (new URLSearchParams(window.location.search)).get("EventKey")
    jQuery.ajax("/api/Event/"+eventid,
    {
      type : "get",
      contentType: "application/json",
      async: true,
      headers: { "RequestVerificationToken": document.getElementById("__RequestVerificationToken").value },
      success: function(data) {
        if ("Functions" in data){
          if ("$values" in data["Functions"]) { data["Functions"]["$values"].forEach(insertSpeaker); }
        }
      }
    });
  }
  window.addEventListener("DOMContentLoaded", function() {
    setTimeout(function(){
          findAndInsert();
      }, 500);
  });
</script>

<!-- Add this to the HEAD of the Event_display to hide price of Program Items
  if price is 0 -->
<script>
function hidePrice(){
  var prices = jQuery("[id$='PriceRow']");
  prices.each(function(index, element) {
    var el = jQuery(element);
    if (el.find("[id$='PriceData']").text() == "0.00") {
      el.css('display', 'none');
      el.css('visibility', 'hidden');
    }
  });
}
window.addEventListener("DOMContentLoaded", function() {
  setTimeout(function(){
        hidePrice();
    }, 500);
});
</script>
